#### 1. MPP

    #####        1.1 概述

​        MPP(Massively Parallel Processing) 即大规模并行处理,在数据库非共享集群(传统的单节点不属于集群,双机热备或ORacle RAC等,均是基于共享存储的),每个节点都有独立的磁盘存储系统和内存系统,业务数据根据数据库模型和应用特点划分到各个节点上,每台数据节点通过专用网络或者商业通用网络互相连接. 彼此协同计算,作为整体提供数据库服务,非共享数据库集群有完全的可伸缩性,高可用,高性能,优秀的性价比,资源共享等优势.



###### 1.1.1 简单来说: MPP是将任务并行的分散到多个服务器和节点上,在每个节点上计算完成后,将各自部分的结果汇总在一起得到最终的结果(与Hadoop)相似。



###### 1.1.2 理解：个人理解

1. MPP本质上是（基于）数据库，基于数据库并区别于传统单节点数据库，支持多节点**分布式**存储和计算（另外，并不是所有的数据库集群方案都是基于分布式存储的）
2. MPP应该是多用作数据仓库，支撑查询和分析类应用场景。
3. 如果用关系型数据库（例如Mysql），搭建一个分布式存储和计算的多节点集群，就基本形成了一个MPP数据库系统，（例如MySQL安装时就提示选择OLAP或OLTP）

  分布式：主要需要明白一下2个方面

- **1.分布式系统一定是由多个节点组成的系统。**
   其中，节点指的是计算机服务器，而且这些节点一般不是孤立的，而是互通的。
- **2.这些连通的节点上部署了我们的节点，并且相互的操作会有协同。**



##### 分布式特点：

   1. **增加系统容量**。 我们的业务量越来越大，而要能应对越来越大的业务量，一台机器的性能已经无法满足了，我们需要多台机器才能应对大规模的应用场景。所以，我们需要垂直或是水平拆分业务系统，让其变成一个分布式的架构。

   2. **加强系统可用。** 我们的业务越来越关键，需要提高整个系统架构的可用性，这就意味着架构中不能存在单点故障。这样，整个系统不会因为一台机器出故障而导致整体不可用。所以，需要通过分布式架构来冗余系统以消除单点故障，从而提高系统的可用性。

   3. **模块重用度更高**，因为模块化，所以 **系统模块重用度更高**。

   4. **开发和发布速度提高**，因为软件服务模块被拆分，**开发和发布速度可以并行而变得更快**。

   5. **系统扩展性更高**

   6. **团队协作流程也会得到改善**

      分布式系统的类型有三种：

      ```vb
      1.分布式处理，但只有一个总数据库，没有局部数据库
      
      2.分层式处理，每一层都有自己的数据库
      
      3.充分分散的分布式网络，没有中央控制部分，各节点之间的联系方式又可以有多种，如松散的联接，紧密的联接，动态的联接，广播通知式的联接等
      
      ```

***一句话来说：分布式就是通过计算机网络将后端工作分布到多台主机上，多个主机一起协同完成工作。***



实现分布式主要的方式

分布式应用用到的技术： 网络通信，基于消息方式的系统间通信和基于远程调用的系统间通信。

缺点： 就是会增加技术的复杂度。
基于消息的系统通信方式，主要是利用的网络协议，比如 TCP/IP 协议。
系统间的通信还需要对数据进行处理，比如同步 IO 和异步 IO。
远程调用实现系统间的通信:通过调用本地的java接口的方法来透明的调用远程java的实现。具体的细节有框架来实现。

#### 2. OLTP和OLAP

​    OLTP(On-line transaction processing) : 在线事务处理/联机事务处理。

​    OLAP(On-Line Analytical Processing) : 在线分析处理/联机分析处理。



###### 简述
数据处理大致可以分成两大类：联机事务处理OLTP（on-line transaction processing）、联机分析处理OLAP（On-Line Analytical Processing）。OLTP是传统的关系型数据库的主要应用，主要是基本的、日常的事务处理，例如银行交易。OLAP是数据仓库系统的主要应用，支持复杂的分析操作，侧重决策支持，并且提供直观易懂的查询结果。



OLTP 系统强调数据库内存效率，强调内存各种指标的命令率，强调绑定变量，强调并发操作；

OLAP 系统则强调数据分析，强调SQL执行市场，强调磁盘I/O，强调分区等。

![image-20210611143331091](C:\Users\caohan\AppData\Roaming\Typora\typora-user-images\image-20210611143331091.png)

OLTP和OLAP在实际场景中的应用：传统的INSERT、Update、DELETE等都属于OLTP，主要是涉及事务处理，SELECT中的count(*)、MAX()、MIN()、Group By、Order By等函数都属于OLAP的范畴。

 

总的来说，先有OLTP，然后才发展OLAP。目前主流的关系型数据库（Oracle、SQLServer、MySQL等均同时具有两者的特征。

以Mysql为例，Mysql安装时，会有 Decision Support(DSS)/OLAP（决策支持）和Online Transaction Processing(OLTP)(联机事务分析)
